<!DOCTYPE html>
<html lang="en" dir="ltr" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard | DealSquare</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Outfit:wght@400;700;900&display=swap"
        rel="stylesheet">
    <script>
        // Pre-load Theme & Direction
        const savedTheme = localStorage.getItem('theme') || 'light';
        const savedDir = localStorage.getItem('dir') || 'ltr';

        const html = document.documentElement;
        html.dir = savedDir;
        if (savedTheme === 'dark' || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            html.classList.add('dark');
        } else {
            html.classList.remove('dark');
        }

        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        outfit: ['Outfit', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    }
                }
            },
            plugins: [
                function ({ addVariant }) {
                    addVariant('rtl', 'html[dir="rtl"] &');
                }
            ]
        }
    </script>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        .dashboard-sidebar {
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }

        /* Component Classes using standard CSS for CDN compatibility */
        .dashboard-card {
            background-color: white;
            border: 1px solid #e2e8f0;
        }

        .dark .dashboard-card {
            background-color: #1e293b;
            border-color: rgba(255, 255, 255, 0.05);
        }

        .dark .dashboard-card:hover {
            border-color: rgba(99, 102, 241, 0.3);
        }

        .dashboard-card:hover {
            border-color: #cbd5e1;
        }

        .glow-cyan {
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.15);
        }

        .stat-card {
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
        }

        /* ApexCharts Tooltip Theme Fixes */
        .apexcharts-tooltip {
            background-color: white !important;
            border-color: #e2e8f0 !important;
            color: #0f172a !important;
        }

        .dark .apexcharts-tooltip {
            background-color: #1e293b !important;
            border-color: #334155 !important;
            color: #fff !important;
        }

        .apexcharts-tooltip-title {
            background-color: #f8fafc !important;
            border-bottom: 1px solid #e2e8f0 !important;
        }

        .dark .apexcharts-tooltip-title {
            background-color: #0f172a !important;
            border-bottom: 1px solid #334155 !important;
        }

        @media (max-width: 640px) {
            .dashboard-card {
                padding: 16px;
            }
        }
    </style>
</head>

<body class="bg-[#fafafa] dark:bg-zinc-950 transition-colors duration-300 bg-user-dash overflow-x-hidden">

    <!-- Navbar (Floating Container) -->
    <nav class="fixed top-4 left-0 right-0 z-[100] flex justify-center px-4">
        <div
            class="max-w-7xl w-full bg-white/80 dark:bg-zinc-950/80 header-glow rounded-full px-6 py-3 transition-all duration-300">
            <div class="flex justify-between items-center">
                <div class="flex items-center gap-8">
                    <a href="index.html" class="flex items-center gap-2 group" dir="ltr">
                        <div
                            class="w-10 h-10 bg-cyan-600 rounded-xl flex items-center justify-center text-white font-black text-xl shadow-lg shadow-cyan-500/20 group-hover:rotate-6 transition-transform">
                            DS</div>
                        <span class="text-xl font-black tracking-tighter dark:text-white hidden sm:block">Deal<span
                                class="text-blue-900">Square</span></span>
                    </a>

                    <!-- Desktop Menu -->
                    <div class="hidden lg:flex items-center gap-1">
                        <div class="relative group">
                            <button
                                class="dropdown-trigger flex items-center space-x-1 px-4 py-2 rounded-full text-sm font-bold text-zinc-600 dark:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors">
                                <span>Home</span>
                                <i data-lucide="chevron-down"
                                    class="w-4 h-4 transition-transform group-hover:rotate-180"></i>
                            </button>
                            <div
                                class="absolute top-full left-0 w-48 bg-white dark:bg-zinc-900 shadow-2xl rounded-2xl border border-zinc-100 dark:border-zinc-800 p-2 hidden opacity-0 translate-y-2 transition-all duration-200 z-50 mt-2">
                                <a href="index.html"
                                    class="block px-4 py-3 text-sm font-semibold rounded-xl hover:bg-cyan-50 dark:hover:bg-cyan-900/30 text-zinc-700 dark:text-white hover:text-cyan-600">Home
                                    1</a>
                                <a href="index2.html"
                                    class="block px-4 py-3 text-sm font-semibold rounded-xl hover:bg-cyan-50 dark:hover:bg-cyan-900/30 text-zinc-700 dark:text-white hover:text-cyan-600">Home
                                    2</a>
                            </div>
                        </div>

                        <a href="about.html"
                            class="px-4 py-2 rounded-full text-sm font-bold text-zinc-600 dark:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors">About</a>
                        <a href="services.html"
                            class="px-4 py-2 rounded-full text-sm font-bold text-zinc-600 dark:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors">Services</a>
                        <a href="contact.html"
                            class="px-4 py-2 rounded-full text-sm font-bold text-zinc-600 dark:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors">Contact</a>

                        <div class="relative group">
                            <button
                                class="dropdown-trigger flex items-center space-x-1 px-4 py-2 rounded-full text-sm font-bold text-zinc-600 dark:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors">
                                <span>Dashboards</span>
                                <i data-lucide="chevron-down"
                                    class="w-4 h-4 transition-transform group-hover:rotate-180"></i>
                            </button>
                            <div
                                class="absolute top-full left-0 w-56 bg-white dark:bg-zinc-900 shadow-2xl rounded-2xl border border-zinc-100 dark:border-zinc-800 p-2 hidden opacity-0 translate-y-2 transition-all duration-200 z-50 mt-2">
                                <a href="user_dashboard.html"
                                    class="flex items-center space-x-3 px-4 py-3 text-sm font-semibold rounded-xl hover:bg-cyan-50 dark:hover:bg-cyan-900/30 text-zinc-700 dark:text-white hover:text-cyan-600">
                                    <i data-lucide="user" class="w-4 h-4"></i>
                                    <span>User Dashboard</span>
                                </a>
                                <a href="admin_dashboard.html"
                                    class="flex items-center space-x-3 px-4 py-3 text-sm font-semibold rounded-xl hover:bg-cyan-50 dark:hover:bg-cyan-900/30 text-zinc-700 dark:text-white hover:text-cyan-600">
                                    <i data-lucide="shield-check" class="w-4 h-4"></i>
                                    <span>Admin Control</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex items-center gap-3">
                    <!-- REORDERED: Login -> Get Started -> Theme -> RTL -->

                    <a href="login.html"
                        class="hidden md:block px-5 py-2 text-sm font-bold text-zinc-600 dark:text-white transition-all hover:text-cyan-600 dark:hover:text-cyan-400">
                        Log In
                    </a>

                    <a href="signup.html"
                        class="hidden md:block px-5 py-2 bg-cyan-600 text-white text-sm font-bold rounded-full hover:bg-cyan-700 transition-all shadow-lg shadow-cyan-600/20 active:scale-95">
                        Get Started
                    </a>

                    <div class="w-px h-6 bg-zinc-200 dark:bg-zinc-800 mx-1 hidden md:block"></div>

                    <button id="theme-toggle"
                        class="p-2.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-white hover:bg-cyan-100 dark:hover:bg-cyan-900/30 transition-all">
                        <i data-lucide="moon" class="w-5 h-5"></i>
                    </button>

                    <button id="dir-toggle"
                        class="p-2.5 rounded-full bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-white hover:bg-cyan-100 dark:hover:bg-cyan-900/30 transition-all">
                        <i data-lucide="globe" class="w-5 h-5"></i>
                    </button>

                    <!-- Mobile Menu Button -->
                    <button id="mobile-menu-btn"
                        class="lg:hidden p-2.5 rounded-full bg-cyan-600 text-white hover:bg-cyan-700 transition-all shadow-lg shadow-cyan-600/20 active:scale-95 ml-2">
                        <i data-lucide="menu" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu-overlay"
        class="fixed inset-0 bg-black/60 z-[190] hidden opacity-0 transition-opacity duration-300 backdrop-blur-sm lg:hidden">
    </div>

    <!-- Mobile Menu Drawer -->
    <div id="mobile-menu"
        class="fixed inset-y-0 left-0 w-[85%] sm:w-[50%] z-[200] bg-white dark:bg-zinc-950 shadow-2xl transform -translate-x-full transition-transform duration-300 flex flex-col h-full overflow-y-auto border-r border-zinc-200 dark:border-zinc-800 lg:hidden rtl:right-0 rtl:left-auto rtl:translate-x-full">

        <div class="flex items-center justify-between p-4 border-b border-zinc-100 dark:border-zinc-800">
            <span class="font-black text-xl tracking-tighter dark:text-white">Menu</span>
            <button id="mobile-menu-close-btn"
                class="p-2 text-zinc-500 hover:text-fuchsia-500 transition-colors rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
        </div>

        <div class="p-4 space-y-4">
            <a href="index.html"
                class="block px-4 py-3 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 font-bold dark:text-white transition-colors">Home
                1</a>
            <a href="index2.html"
                class="block px-4 py-3 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 font-bold dark:text-white transition-colors">Home
                2</a>
            <a href="about.html"
                class="block px-4 py-3 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 font-bold dark:text-white transition-colors">About
                Us</a>
            <a href="services.html"
                class="block px-4 py-3 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 font-bold dark:text-white transition-colors">Services</a>
            <a href="contact.html"
                class="block px-4 py-3 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 font-bold dark:text-white transition-colors">Contact</a>

            <div class="border-t border-zinc-100 dark:border-zinc-800 pt-4 mt-2">
                <a href="user_dashboard.html"
                    class="flex items-center space-x-2 px-4 py-3 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 font-bold dark:text-white transition-colors">
                    <i data-lucide="user" class="w-4 h-4"></i><span>User Dashboard</span>
                </a>
                <a href="admin_dashboard.html"
                    class="flex items-center space-x-2 px-4 py-3 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 font-bold dark:text-white transition-colors">
                    <i data-lucide="shield-check" class="w-4 h-4"></i><span>Admin Dashboard</span>
                </a>
            </div>

            <div class="border-t border-zinc-100 dark:border-zinc-800 pt-4 mt-2 space-y-3">
                <a href="login.html"
                    class="block w-full px-4 py-3 text-center font-bold text-zinc-600 dark:text-white border border-zinc-200 dark:border-zinc-800 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors">
                    Log In
                </a>
                <a href="signup.html"
                    class="block w-full px-4 py-3 text-center font-bold bg-cyan-600 text-white rounded-xl hover:bg-cyan-700 transition-all shadow-lg shadow-cyan-600/20 active:scale-95">
                    Get Started
                </a>
            </div>


        </div>
    </div>

    <!-- Dashboard Content Wrapper -->
    <div
        class="dashboard-wrapper flex min-h-[calc(100vh-80px)] bg-zinc-50 dark:bg-[#0f172a] text-zinc-900 dark:text-[#f3f4f6]">
        <!-- Sidebar -->
        <aside id="sidebar"
            class="dashboard-sidebar fixed inset-y-0 lg:fixed lg:top-28 start-0 lg:h-[calc(100vh-80px)] w-64 z-[110] lg:z-40 transform -translate-x-full rtl:translate-x-full lg:translate-x-0 lg:rtl:translate-x-0 transition-transform duration-300 overflow-y-auto bg-white/95 dark:bg-[#0f172a]/95 border-e border-zinc-200 dark:border-white/10 shadow-2xl lg:shadow-none rtl:right-0 rtl:left-auto">
            <div class="flex flex-col h-full p-4">
                <!-- Navigation -->
                <div class="lg:hidden flex justify-end mb-4">
                    <button id="closeSidebarBtn" class="p-2 text-zinc-500 hover:text-fuchsia-500">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <nav class="flex-1 space-y-1 mt-0">
                    <div
                        class="mx-3 mt-2 mb-1 px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded w-fit uppercase tracking-wider">
                        USER</div>
                    <a href="#view-overview" id="nav-overview"
                        class="sidebar-link flex items-center gap-3 px-3 py-2.5 rounded-xl bg-cyan-50 dark:bg-cyan-500/10 text-cyan-600 dark:text-cyan-400 border border-cyan-200 dark:border-cyan-500/20">
                        <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
                        <span class="font-medium">Overview</span>
                    </a>
                    <a href="#view-listings" id="nav-listings"
                        class="sidebar-link flex items-center gap-3 px-3 py-2.5 rounded-xl text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800/50 hover:text-zinc-900 dark:hover:text-white transition-colors">
                        <i data-lucide="package" class="w-5 h-5"></i>
                        <span>My Listings</span>
                    </a>
                    <a href="#view-messages" id="nav-messages"
                        class="sidebar-link flex items-center gap-3 px-3 py-2.5 rounded-xl text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800/50 hover:text-zinc-900 dark:hover:text-white transition-colors">
                        <i data-lucide="message-square" class="w-5 h-5"></i>
                        <span>Messages</span>
                    </a>
                    <a href="#view-favorites" id="nav-favorites"
                        class="sidebar-link flex items-center gap-3 px-3 py-2.5 rounded-xl text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800/50 hover:text-zinc-900 dark:hover:text-white transition-colors">
                        <i data-lucide="heart" class="w-5 h-5"></i>
                        <span>Favorites</span>
                    </a>
                    <a href="#view-wallet" id="nav-wallet"
                        class="sidebar-link flex items-center gap-3 px-3 py-2.5 rounded-xl text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800/50 hover:text-zinc-900 dark:hover:text-white transition-colors">
                        <i data-lucide="wallet" class="w-5 h-5"></i>
                        <span>Wallet</span>
                    </a>
                    <a href="#view-profile" id="nav-profile"
                        class="sidebar-link flex items-center gap-3 px-3 py-2.5 rounded-xl text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800/50 hover:text-zinc-900 dark:hover:text-white transition-colors">
                        <i data-lucide="user" class="w-5 h-5"></i>
                        <span>Profile</span>
                    </a>
                    <a href="#view-settings" id="nav-settings"
                        class="sidebar-link flex items-center gap-3 px-3 py-2.5 rounded-xl text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800/50 hover:text-zinc-900 dark:hover:text-white transition-colors">
                        <i data-lucide="settings" class="w-5 h-5"></i>
                        <span>Settings</span>
                    </a>
                </nav>

                <!-- User Profile -->
                <div class="mt-auto pt-4 border-t border-zinc-200 dark:border-zinc-700/50">

                    <div class="flex items-center gap-3 p-2">
                        <img src="https://ui-avatars.com/api/?name=John+Doe&background=6366f1&color=fff"
                            class="w-10 h-10 rounded-full" alt="User">
                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium text-zinc-900 dark:text-white truncate">John Doe</p>
                            <p class="text-xs text-zinc-500 dark:text-zinc-400 truncate">Premium Member</p>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Sidebar Overlay -->
        <div id="sidebarOverlay"
            class="fixed inset-0 bg-black/70 backdrop-blur-sm z-[105] lg:hidden hidden opacity-0 transition-opacity duration-300">
        </div>

        <!-- Main Content -->
        <main class="flex-1 lg:ms-64 pt-32 min-h-screen min-w-0">
            <!-- Mobile Sidebar Toggle -->
            <button id="contentMenuBtn"
                class="lg:hidden mx-4 mb-4 p-2 bg-white dark:bg-[#1e293b] text-zinc-600 dark:text-zinc-300 rounded-lg border border-zinc-200 dark:border-zinc-700">
                <span class="flex items-center gap-2 font-bold text-sm">
                    <i data-lucide="menu" class="w-5 h-5"></i>
                    Dashboard Menu
                </span>
            </button>

            <div id="view-overview"
                class="dashboard-view p-4 lg:p-8 max-w-7xl mx-auto space-y-6 animate-fade-in-up scroll-mt-24">
                <!-- Header -->
                <div>
                    <h1 class="text-2xl lg:text-3xl font-bold text-zinc-900 dark:text-white mb-2">My Dashboard ðŸš€</h1>
                    <p class="text-zinc-600 dark:text-zinc-400">Manage your profile, listings, and performance in one
                        place.</p>
                </div>

                <!-- Row 1: Profile, Shortcuts, Wallet (3 Columns) -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- 1. User Profile Overview -->
                    <div class="dashboard-card rounded-2xl p-6 relative overflow-hidden">
                        <div class="flex items-start justify-between">
                            <div class="flex items-center gap-4">
                                <div class="relative">
                                    <img src="https://ui-avatars.com/api/?name=John+Doe&background=cyan&size=64"
                                        class="w-16 h-16 rounded-2xl">
                                    <div
                                        class="absolute -bottom-2 -right-2 bg-emerald-500 text-white p-1 rounded-full border-2 border-white dark:border-[#1e293b]">
                                        <i data-lucide="check" class="w-3 h-3"></i>
                                    </div>
                                </div>
                                <div>
                                    <h3 class="text-zinc-900 dark:text-white font-bold text-lg">John Doe</h3>
                                    <span
                                        class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-cyan-50 dark:bg-cyan-500/10 text-cyan-600 dark:text-cyan-400 text-xs font-semibold border border-cyan-200 dark:border-cyan-500/20">
                                        <i data-lucide="crown" class="w-3 h-3"></i>
                                        Premium Plan
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="mt-6 space-y-3">
                            <div>
                                <div class="flex justify-between text-xs mb-1.5">
                                    <span class="text-zinc-500 dark:text-zinc-400">Profile Completeness</span>
                                    <span class="text-emerald-500 dark:text-emerald-400 font-medium">85%</span>
                                </div>
                                <div class="h-1.5 bg-zinc-200 dark:bg-zinc-700/50 rounded-full overflow-hidden">
                                    <div
                                        class="h-full bg-emerald-500 w-[85%] rounded-full shadow-[0_0_10px_rgba(16,185,129,0.5)]">
                                    </div>
                                </div>
                            </div>
                            <div class="flex gap-2 text-xs text-zinc-500 dark:text-zinc-400">
                                <span class="flex items-center gap-1"><i data-lucide="user-check"
                                        class="w-3 h-3 text-emerald-500 dark:text-emerald-400"></i> Identity</span>
                                <span class="flex items-center gap-1"><i data-lucide="mail-check"
                                        class="w-3 h-3 text-emerald-500 dark:text-emerald-400"></i> Email</span>
                                <span class="flex items-center gap-1"><i data-lucide="phone"
                                        class="w-3 h-3 text-zinc-400 dark:text-zinc-700"></i> Phone</span>
                            </div>
                        </div>
                    </div>

                    <!-- 10. Productivity Shortcuts -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <h3 class="text-zinc-900 dark:text-white font-bold mb-4 flex items-center gap-2">
                            <i data-lucide="zap" class="w-4 h-4 text-amber-500 dark:text-amber-400"></i> Quick Actions
                        </h3>
                        <div class="grid grid-cols-2 gap-3">
                            <button id="btn-new-listing"
                                class="flex flex-col items-center justify-center gap-2 p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800/50 hover:bg-cyan-50 dark:hover:bg-cyan-600/20 hover:text-cyan-600 dark:hover:text-cyan-400 hover:border-cyan-200 dark:hover:border-cyan-500/30 border border-zinc-200 dark:border-zinc-700/50 transition-all group">
                                <div
                                    class="w-8 h-8 rounded-full bg-cyan-100 dark:bg-cyan-500/20 flex items-center justify-center text-cyan-600 dark:text-cyan-400 group-hover:bg-cyan-500 group-hover:text-white transition-colors">
                                    <i data-lucide="plus" class="w-4 h-4"></i>
                                </div>
                                <span class="text-xs font-medium text-zinc-600 dark:text-zinc-300">New Listing</span>
                            </button>
                            <button id="btn-renew-ads"
                                class="flex flex-col items-center justify-center gap-2 p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800/50 hover:bg-emerald-50 dark:hover:bg-emerald-600/20 hover:text-emerald-600 dark:hover:text-emerald-400 hover:border-emerald-200 dark:hover:border-emerald-500/30 border border-zinc-200 dark:border-zinc-700/50 transition-all group">
                                <div
                                    class="w-8 h-8 rounded-full bg-emerald-100 dark:bg-emerald-500/20 flex items-center justify-center text-emerald-600 dark:text-emerald-400 group-hover:bg-emerald-500 group-hover:text-white transition-colors">
                                    <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                                </div>
                                <span class="text-xs font-medium text-zinc-600 dark:text-zinc-300">Renew Ads</span>
                            </button>
                            <button id="btn-boost-ad"
                                class="flex flex-col items-center justify-center gap-2 p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800/50 hover:bg-fuchsia-50 dark:hover:bg-fuchsia-600/20 hover:text-fuchsia-600 dark:hover:text-fuchsia-400 hover:border-fuchsia-200 dark:hover:border-fuchsia-500/30 border border-zinc-200 dark:border-zinc-700/50 transition-all group">
                                <div
                                    class="w-8 h-8 rounded-full bg-fuchsia-100 dark:bg-fuchsia-500/20 flex items-center justify-center text-fuchsia-600 dark:text-fuchsia-400 group-hover:bg-fuchsia-500 group-hover:text-white transition-colors">
                                    <i data-lucide="rocket" class="w-4 h-4"></i>
                                </div>
                                <span class="text-xs font-medium text-zinc-600 dark:text-zinc-300">Boost Ad</span>
                            </button>
                            <button id="btn-manage-settings"
                                class="flex flex-col items-center justify-center gap-2 p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800/50 hover:bg-purple-50 dark:hover:bg-purple-600/20 hover:text-purple-600 dark:hover:text-purple-400 hover:border-purple-200 dark:hover:border-purple-500/30 border border-zinc-200 dark:border-zinc-700/50 transition-all group">
                                <div
                                    class="w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-500/20 flex items-center justify-center text-purple-600 dark:text-purple-400 group-hover:bg-purple-500 group-hover:text-white transition-colors">
                                    <i data-lucide="settings" class="w-4 h-4"></i>
                                </div>
                                <span class="text-xs font-medium text-zinc-600 dark:text-zinc-300">Manage</span>
                            </button>
                        </div>
                    </div>

                    <!-- 4. Wallet / Earnings Snapshot -->
                    <div class="dashboard-card rounded-2xl p-6 relative">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-zinc-900 dark:text-white font-bold flex items-center gap-2">
                                <i data-lucide="wallet" class="w-4 h-4 text-emerald-500 dark:text-emerald-400"></i>
                                Wallet
                            </h3>
                            <span class="text-xs text-zinc-500 dark:text-zinc-400">Last payout: Oct 24</span>
                        </div>
                        <div class="mb-4">
                            <div class="text-3xl font-black text-zinc-900 dark:text-white">$1,458.00</div>
                            <div class="flex items-center gap-2 mt-1">
                                <span class="text-xs text-zinc-500 dark:text-zinc-400">Available Balance</span>
                                <span class="h-3 w-[1px] bg-zinc-300 dark:bg-zinc-700"></span>
                                <span class="text-xs text-amber-500 dark:text-amber-400">$120.00 Pending</span>
                            </div>
                        </div>
                        <div id="earningsSparkline" class="h-16 w-full -mb-2"></div>
                    </div>
                </div>

                <!-- New Charts Section -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Pie Chart: Ad Categories -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <h3 class="text-zinc-900 dark:text-white font-bold mb-4">Ad Distribution</h3>
                        <div id="adCategoryChart" class="h-64"></div>
                    </div>

                    <!-- Radar Chart: User Activity Profile -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <h3 class="text-zinc-900 dark:text-white font-bold mb-4">Activity Profile</h3>
                        <div id="userActivityRadar" class="h-64"></div>
                    </div>

                    <!-- Bar Chart: Weekly Engagement -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <h3 class="text-zinc-900 dark:text-white font-bold mb-4">Weekly Engagement</h3>
                        <div id="weeklyEngagementBar" class="h-64"></div>
                    </div>
                </div>

                <!-- Row 2: Activity Summary & Performance Insights (2:1 Ratio on large) -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- 2. Activity Summary -->
                    <div class="dashboard-card rounded-2xl p-6 lg:col-span-1">
                        <h3 class="text-zinc-900 dark:text-white font-bold mb-6">Activity Summary</h3>
                        <div class="space-y-4">
                            <div
                                class="flex items-center justify-between p-4 rounded-xl bg-zinc-50 dark:bg-zinc-800/50 border border-zinc-200 dark:border-zinc-700/50">
                                <div class="flex items-center gap-3">
                                    <div
                                        class="w-10 h-10 rounded-lg bg-cyan-100 dark:bg-cyan-500/20 flex items-center justify-center text-cyan-600 dark:text-cyan-400">
                                        <i data-lucide="layers" class="w-5 h-5"></i>
                                    </div>
                                    <div>
                                        <div class="text-zinc-900 dark:text-white font-bold">Total Listings</div>
                                        <div class="text-xs text-zinc-500 dark:text-zinc-400">12 Active, 3 Theired
                                        </div>
                                    </div>
                                </div>
                                <div class="text-xl font-bold text-zinc-900 dark:text-white">15</div>
                            </div>
                            <div
                                class="flex items-center justify-between p-4 rounded-xl bg-zinc-50 dark:bg-zinc-800/50 border border-zinc-200 dark:border-zinc-700/50">
                                <div class="flex items-center gap-3">
                                    <div
                                        class="w-10 h-10 rounded-lg bg-emerald-100 dark:bg-emerald-500/20 flex items-center justify-center text-emerald-600 dark:text-emerald-400">
                                        <i data-lucide="eye" class="w-5 h-5"></i>
                                    </div>
                                    <div>
                                        <div class="text-zinc-900 dark:text-white font-bold">Total Views</div>
                                        <div class="text-xs text-zinc-500 dark:text-zinc-400">+12% vs last month</div>
                                    </div>
                                </div>
                                <div class="text-xl font-bold text-zinc-900 dark:text-white">4.2k</div>
                            </div>
                            <div
                                class="flex items-center justify-between p-4 rounded-xl bg-zinc-50 dark:bg-zinc-800/50 border border-zinc-200 dark:border-zinc-700/50">
                                <div class="flex items-center gap-3">
                                    <div
                                        class="w-10 h-10 rounded-lg bg-fuchsia-100 dark:bg-fuchsia-500/20 flex items-center justify-center text-fuchsia-600 dark:text-fuchsia-400">
                                        <i data-lucide="message-circle" class="w-5 h-5"></i>
                                    </div>
                                    <div>
                                        <div class="text-zinc-900 dark:text-white font-bold">Inquiries</div>
                                        <div class="text-xs text-zinc-500 dark:text-zinc-400">5 New today</div>
                                    </div>
                                </div>
                                <div class="text-xl font-bold text-zinc-900 dark:text-white">48</div>
                            </div>
                        </div>
                    </div>

                    <!-- 3. Performance Insights (Chart) -->
                    <div class="dashboard-card rounded-2xl p-6 lg:col-span-2">
                        <div class="flex items-center justify-between mb-6">
                            <div>
                                <h3 class="text-zinc-900 dark:text-white font-bold">Performance Insights</h3>
                                <p class="text-xs text-zinc-500 dark:text-zinc-400">Weekly engagement trends across
                                    all listings</p>
                            </div>
                            <select
                                class="bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-none text-xs text-zinc-900 dark:text-white rounded-lg px-2 py-1 outline-none focus:ring-1 focus:ring-cyan-500">
                                <option>Last 7 Days</option>
                                <option>Last 30 Days</option>
                            </select>
                        </div>
                        <div class="grid grid-cols-3 gap-4 mb-4">
                            <div class="p-3 rounded-lg bg-zinc-50 dark:bg-zinc-800/50">
                                <div class="text-xs text-zinc-500 dark:text-zinc-400 mb-1">Top Listing</div>
                                <a href="#"
                                    class="text-sm font-semibold text-cyan-600 dark:text-cyan-400 hover:underline truncate block">iPhone
                                    14 Pro Max...</a>
                            </div>
                            <div class="p-3 rounded-lg bg-zinc-50 dark:bg-zinc-800/50">
                                <div class="text-xs text-zinc-500 dark:text-zinc-400 mb-1">Conv. Rate</div>
                                <div class="text-sm font-semibold text-zinc-900 dark:text-white">3.8% <span
                                        class="text-emerald-500 dark:text-emerald-400 text-xs">(+0.4%)</span></div>
                            </div>
                            <div class="p-3 rounded-lg bg-zinc-50 dark:bg-zinc-800/50">
                                <div class="text-xs text-zinc-500 dark:text-zinc-400 mb-1">Visibility Score</div>
                                <div class="text-sm font-semibold text-zinc-900 dark:text-white">High (92/100)</div>
                            </div>
                        </div>
                        <div id="performanceChart" class="h-64"></div>
                    </div>
                </div>

                <!-- Performance Insights II (New Section) -->
                <div class="mt-8 mb-6">
                    <h3 class="text-xl font-bold text-zinc-900 dark:text-white mb-2">Detailed Performance Analytics</h3>
                    <p class="text-sm text-zinc-500">Comprehensive breakdown of your account activity.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                    <!-- 1. Profile Views (Sparkline Area) -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <h3 class="font-bold text-zinc-900 dark:text-white mb-4">Profile Views</h3>
                        <div id="usrProfileViewsSpark" class="h-64"></div>
                    </div>
                    <!-- 2. Listing Impressions (Bar) -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <h3 class="font-bold text-zinc-900 dark:text-white mb-4">Listing Impressions</h3>
                        <div id="usrImpressionsBar" class="h-64"></div>
                    </div>
                    <!-- 3. Sales History (Column) -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <h3 class="font-bold text-zinc-900 dark:text-white mb-4">Sales History</h3>
                        <div id="usrSalesColumn" class="h-64"></div>
                    </div>
                    <!-- 4. Spending Habits (Pie) -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <h3 class="font-bold text-zinc-900 dark:text-white mb-4">Spending Habits</h3>
                        <div id="usrSpendingPie" class="h-64"></div>
                    </div>
                    <!-- 5. Response Rate (Radial) -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <h3 class="font-bold text-zinc-900 dark:text-white mb-4">Response Rate</h3>
                        <div id="usrResponseRadial" class="h-64"></div>
                    </div>
                    <!-- 6. Category Interests (Radar) -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <h3 class="font-bold text-zinc-900 dark:text-white mb-4">Category Interests</h3>
                        <div id="usrInterestsRadar" class="h-64"></div>
                    </div>
                    <!-- 7. Message Activity (Line) -->
                    <div class="dashboard-card rounded-2xl p-6 col-span-1 md:col-span-2">
                        <h3 class="font-bold text-zinc-900 dark:text-white mb-4">Message Activity</h3>
                        <div id="usrMsgActivityLine" class="h-64"></div>
                    </div>
                    <!-- 8. Deal Success Rate (Gauge) -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <h3 class="font-bold text-zinc-900 dark:text-white mb-4">Success Rate</h3>
                        <div id="usrSuccessGauge"
                            class="h-64 text-zinc-900 dark:text-white font-black text-2xl flex items-center justify-center">
                        </div>
                    </div>
                    <!-- 9. Saved Items (Donut) -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <h3 class="font-bold text-zinc-900 dark:text-white mb-4">Saved Items</h3>
                        <div id="usrSavedDonut" class="h-64"></div>
                    </div>
                    <!-- 10. Weekly Engagement (Heatmap) -->
                    <div class="dashboard-card rounded-2xl p-6 col-span-1 md:col-span-2 lg:col-span-2">
                        <h3 class="font-bold text-zinc-900 dark:text-white mb-4">Engagement Heatmap</h3>
                        <div id="usrEngageHeatmap" class="h-64"></div>
                    </div>
                </div>

                <!-- Row 3: Notifications & Support -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- 5. Notifications Center (Compact) -->
                    <div class="dashboard-card rounded-2xl p-6 lg:col-span-2">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-zinc-900 dark:text-white font-bold flex items-center gap-2">
                                <i data-lucide="bell" class="w-4 h-4"></i> Notifications
                                <span
                                    class="bg-fuchsia-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full">3</span>
                            </h3>
                            <button
                                class="text-xs text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300">Mark
                                all read</button>
                        </div>
                        <div class="space-y-4">
                            <!-- Alert Item -->
                            <div
                                class="flex gap-4 p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800/30 hover:bg-zinc-100 dark:hover:bg-zinc-800/80 transition-colors cursor-pointer group rounded-l-none border-l-2 border-cyan-500">
                                <div class="mt-1">
                                    <div
                                        class="w-8 h-8 rounded-full bg-cyan-100 dark:bg-cyan-500/20 text-cyan-600 dark:text-cyan-400 flex items-center justify-center">
                                        <i data-lucide="message-square" class="w-4 h-4"></i>
                                    </div>
                                </div>
                                <div class="flex-1">
                                    <div class="flex justify-between items-start">
                                        <p
                                            class="text-sm text-zinc-900 dark:text-white font-medium group-hover:text-cyan-600 dark:group-hover:text-cyan-400 transition-colors">
                                            New inquiry on "MacBook Pro M2"</p>
                                        <span class="text-[10px] text-zinc-500 dark:text-zinc-700 whitespace-nowrap">2m
                                            ago</span>
                                    </div>
                                    <p class="text-xs text-zinc-500 dark:text-zinc-400 mt-0.5 line-clamp-1">Hi, is
                                        this still available? I
                                        can pick it up today...</p>
                                </div>
                            </div>
                            <!-- Alert Item -->
                            <div
                                class="flex gap-4 p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800/30 hover:bg-zinc-100 dark:hover:bg-zinc-800/80 transition-colors cursor-pointer group">
                                <div class="mt-1">
                                    <div
                                        class="w-8 h-8 rounded-full bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600 dark:text-emerald-400 flex items-center justify-center">
                                        <i data-lucide="check-circle" class="w-4 h-4"></i>
                                    </div>
                                </div>
                                <div class="flex-1">
                                    <div class="flex justify-between items-start">
                                        <p class="text-sm text-zinc-900 dark:text-white font-medium">Your listing was
                                            approved!</p>
                                        <span class="text-[10px] text-zinc-500 dark:text-zinc-700 whitespace-nowrap">4h
                                            ago</span>
                                    </div>
                                    <p class="text-xs text-zinc-500 dark:text-zinc-400 mt-0.5">"Vintage Camera Lens"
                                        is now live on the
                                        marketplace.</p>
                                </div>
                            </div>
                            <!-- Alert Item -->
                            <div
                                class="flex gap-4 p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800/30 hover:bg-zinc-100 dark:hover:bg-zinc-800/80 transition-colors cursor-pointer group">
                                <div class="mt-1">
                                    <div
                                        class="w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-500/20 text-amber-600 dark:text-amber-400 flex items-center justify-center">
                                        <i data-lucide="alert-triangle" class="w-4 h-4"></i>
                                    </div>
                                </div>
                                <div class="flex-1">
                                    <div class="flex justify-between items-start">
                                        <p class="text-sm text-zinc-900 dark:text-white font-medium">Subscription
                                            renewing soon</p>
                                        <span class="text-[10px] text-zinc-500 dark:text-zinc-700 whitespace-nowrap">1d
                                            ago</span>
                                    </div>
                                    <p class="text-xs text-zinc-500 dark:text-zinc-400 mt-0.5">Your Premium Plan
                                        renews in 3 days. Check
                                        your billing details.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 9. Support & Help Widget -->
                    <div
                        class="dashboard-card rounded-2xl p-6 bg-gradient-to-br from-zinc-50 to-cyan-50 dark:from-[#1e293b] dark:to-cyan-900/20">
                        <h3 class="text-zinc-900 dark:text-white font-bold mb-4">Need Help?</h3>
                        <div class="space-y-4">
                            <div
                                class="bg-white dark:bg-zinc-800/50 p-4 rounded-xl border border-zinc-200 dark:border-zinc-700/50">
                                <span class="text-xs text-zinc-500 dark:text-zinc-400">Open Tickets</span>
                                <div class="text-xl font-bold text-zinc-900 dark:text-white mt-1">0 <span
                                        class="text-xs font-normal text-zinc-500 dark:text-zinc-700 ml-1">Great!</span>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <a href="#"
                                    class="flex items-center justify-between text-sm text-zinc-600 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-white p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors">
                                    <span>Success Center</span>
                                    <i data-lucide="external-link" class="w-3 h-3"></i>
                                </a>
                                <a href="#"
                                    class="flex items-center justify-between text-sm text-zinc-600 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-white p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors">
                                    <span>Contact Support</span>
                                    <i data-lucide="chevron-right" class="w-3 h-3"></i>
                                </a>
                                <a href="#"
                                    class="flex items-center justify-between text-sm text-zinc-600 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-white p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors">
                                    <span>Community Guidelines</span>
                                    <i data-lucide="file-text" class="w-3 h-3"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Row 4: Secondary Stats -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- 6. Saved & Favorites -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3
                                class="text-zinc-900 dark:text-white font-bold text-sm uppercase tracking-wider text-zinc-500 dark:text-zinc-400">
                                Saved Items
                            </h3>
                            <span class="text-zinc-900 dark:text-white font-bold">12</span>
                        </div>
                        <div class="flex -space-x-3 overflow-hidden mb-4">
                            <img class="inline-block h-8 w-8 rounded-full ring-2 ring-white dark:ring-[#1e293b]"
                                src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=100&h=100&fit=crop"
                                alt="" />
                            <img class="inline-block h-8 w-8 rounded-full ring-2 ring-white dark:ring-[#1e293b]"
                                src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=100&h=100&fit=crop"
                                alt="" />
                            <img class="inline-block h-8 w-8 rounded-full ring-2 ring-white dark:ring-[#1e293b]"
                                src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=100&h=100&fit=crop"
                                alt="" />
                            <div
                                class="h-8 w-8 rounded-full bg-zinc-200 dark:bg-zinc-700 ring-2 ring-white dark:ring-[#1e293b] flex items-center justify-center text-[10px] text-zinc-600 dark:text-white font-bold">
                                +9</div>
                        </div>
                        <a href="#"
                            class="text-xs text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 block text-center mt-2">View
                            Wishlist</a>
                    </div>

                    <!-- 7. Trust & Safety Indicators -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <div class="flex items-center justify-between mb-2">
                            <h3
                                class="text-zinc-900 dark:text-white font-bold text-sm uppercase tracking-wider text-zinc-500 dark:text-zinc-400">
                                Reputation
                            </h3>
                            <i data-lucide="shield-check" class="w-4 h-4 text-emerald-500 dark:text-emerald-400"></i>
                        </div>
                        <div class="flex items-end gap-2 mb-2">
                            <span class="text-3xl font-black text-zinc-900 dark:text-white">98</span>
                            <span class="text-sm text-zinc-500 dark:text-zinc-400 mb-1">/ 100</span>
                        </div>
                        <div class="w-full bg-zinc-200 dark:bg-zinc-700/50 rounded-full h-1.5 mb-2">
                            <div class="bg-emerald-500 h-1.5 rounded-full" style="width: 98%"></div>
                        </div>
                        <p class="text-[10px] text-zinc-500 dark:text-zinc-400">0 Reports filed against you. Great
                            job!</p>
                    </div>

                    <!-- 8. Subscription & Billing -->
                    <div class="dashboard-card rounded-2xl p-6">
                        <div class="flex items-center justify-between mb-2">
                            <h3
                                class="text-zinc-900 dark:text-white font-bold text-sm uppercase tracking-wider text-zinc-500 dark:text-zinc-400">
                                Plan</h3>
                            <span
                                class="text-xs font-bold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-400/10 px-2 py-0.5 rounded-full">Square</span>
                        </div>
                        <p class="text-zinc-900 dark:text-white font-medium text-sm mb-4">Premium Membership</p>

                        <div class="flex justify-between items-center text-xs text-zinc-500 dark:text-zinc-400 mb-2">
                            <span>Listings Used</span>
                            <span>15 / 50</span>
                        </div>
                        <div class="w-full bg-zinc-200 dark:bg-zinc-700/50 rounded-full h-1.5 mb-4">
                            <div class="bg-cyan-600 dark:bg-cyan-500 h-1.5 rounded-full" style="width: 30%"></div>
                        </div>
                        <button
                            class="w-full py-2 rounded-lg bg-cyan-600 hover:bg-cyan-700 text-white text-xs font-bold transition-colors">Upgrade
                            / Manage</button>
                    </div>
                </div>
            </div>
            <!-- View: My Listings -->
            <div id="view-listings"
                class="dashboard-view p-4 lg:p-8 max-w-7xl mx-auto space-y-6 animate-fade-in-up scroll-mt-24">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-zinc-900 dark:text-white">My Listings</h2>
                        <p class="text-zinc-500 dark:text-zinc-400">Manage your active and inactive ads.</p>
                    </div>
                    <button
                        class="bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 transition-colors">
                        <i data-lucide="plus" class="w-4 h-4"></i> Post New Ad
                    </button>
                </div>
                <!-- Listings Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Listing Card 1 -->
                    <div class="dashboard-card rounded-2xl overflow-hidden group">
                        <div class="relative aspect-video">
                            <img src="Assets/neo-hero.png"
                                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                            <span
                                class="absolute top-2 right-2 bg-emerald-500 text-white text-xs font-bold px-2 py-1 rounded-lg">Active</span>
                        </div>
                        <div class="p-4">
                            <h3 class="text-zinc-900 dark:text-white font-bold text-lg mb-1 truncate">Modern iPhone 14
                                Pro Max</h3>
                            <p class="text-zinc-500 dark:text-zinc-400 text-sm mb-4">$1,299 â€¢ Electronic</p>
                            <div class="flex gap-2">
                                <button
                                    class="flex-1 py-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 text-sm font-semibold hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors">Edit</button>
                                <button
                                    class="flex-1 py-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-fuchsia-500 dark:text-fuchsia-400 text-sm font-semibold hover:bg-fuchsia-50 dark:hover:bg-fuchsia-900/20 transition-colors">Delete</button>
                            </div>
                        </div>
                    </div>
                    <!-- Listing Card 2 -->
                    <div class="dashboard-card rounded-2xl overflow-hidden group">
                        <div class="relative aspect-video">
                            <img src="Assets/camera.jpg"
                                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                            <span
                                class="absolute top-2 right-2 bg-amber-500 text-white text-xs font-bold px-2 py-1 rounded-lg">Pending</span>
                        </div>
                        <div class="p-4">
                            <h3 class="text-zinc-900 dark:text-white font-bold text-lg mb-1 truncate">Vintage Canon
                                AE-1</h3>
                            <p class="text-zinc-500 dark:text-zinc-400 text-sm mb-4">$450 â€¢ Photography</p>
                            <div class="flex gap-2">
                                <button
                                    class="flex-1 py-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 text-sm font-semibold hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors">Edit</button>
                                <button
                                    class="flex-1 py-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-fuchsia-500 dark:text-fuchsia-400 text-sm font-semibold hover:bg-fuchsia-50 dark:hover:bg-fuchsia-900/20 transition-colors">Delete</button>
                            </div>
                        </div>
                    </div>
                    <!-- Listing Card 3 -->
                    <div class="dashboard-card rounded-2xl overflow-hidden group">
                        <div class="relative aspect-video">
                            <img src="Assets/typewriter.jpg"
                                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                            <span
                                class="absolute top-2 right-2 bg-zinc-500 text-white text-xs font-bold px-2 py-1 rounded-lg">Draft</span>
                        </div>
                        <div class="p-4">
                            <h3 class="text-zinc-900 dark:text-white font-bold text-lg mb-1 truncate">Vintage Typewriter
                            </h3>
                            <p class="text-zinc-500 dark:text-zinc-400 text-sm mb-4">$180 â€¢ Antiques</p>
                            <div class="flex gap-2">
                                <button
                                    class="flex-1 py-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 text-sm font-semibold hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors">Edit</button>
                                <button
                                    class="flex-1 py-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-fuchsia-500 dark:text-fuchsia-400 text-sm font-semibold hover:bg-fuchsia-50 dark:hover:bg-fuchsia-900/20 transition-colors">Delete</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- View: Messages -->
            <div id="view-messages"
                class="dashboard-view p-4 lg:p-8 max-w-7xl mx-auto h-[calc(100vh-140px)] animate-fade-in-up scroll-mt-24">
                <div class="h-full dashboard-card rounded-2xl overflow-hidden flex flex-col md:flex-row">
                    <!-- Chat List -->
                    <div class="w-full md:w-80 border-r border-zinc-200 dark:border-zinc-700/50 flex flex-col">
                        <div class="p-4 border-b border-zinc-200 dark:border-zinc-700/50">
                            <input type="text" placeholder="Search chats..."
                                class="w-full bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-white text-sm rounded-lg px-3 py-2 outline-none focus:ring-1 focus:ring-cyan-500">
                        </div>
                        <div class="flex-1 overflow-y-auto p-2 space-y-2">
                            <div
                                class="p-3 rounded-xl bg-cyan-50 dark:bg-cyan-600/10 border border-cyan-200 dark:border-cyan-500/20 cursor-pointer">
                                <div class="flex justify-between items-start mb-1">
                                    <h4 class="text-zinc-900 dark:text-white font-bold text-sm">Alice Cooper</h4>
                                    <span class="text-[10px] text-zinc-500 dark:text-zinc-400">2m</span>
                                </div>
                                <p class="text-xs text-cyan-500 dark:text-cyan-300 line-clamp-1">Is the item still
                                    available?</p>
                            </div>
                            <div
                                class="p-3 rounded-xl hover:bg-zinc-100 dark:hover:bg-zinc-800/50 cursor-pointer transition-colors">
                                <div class="flex justify-between items-start mb-1">
                                    <h4 class="text-zinc-900 dark:text-white font-bold text-sm">Bob Smith</h4>
                                    <span class="text-[10px] text-zinc-500 dark:text-zinc-400">1d</span>
                                </div>
                                <p class="text-xs text-zinc-500 dark:text-zinc-400 line-clamp-1">Thanks for the quick
                                    reply!</p>
                            </div>
                        </div>
                    </div>
                    <!-- Chat Area -->
                    <div class="flex-1 flex flex-col bg-zinc-50 dark:bg-zinc-900/30">
                        <div
                            class="p-4 border-b border-zinc-200 dark:border-zinc-700/50 flex items-center justify-between">
                            <h3 class="text-zinc-900 dark:text-white font-bold">Alice Cooper</h3>
                            <button class="text-zinc-400 hover:text-cyan-600 dark:hover:text-white"><i
                                    data-lucide="more-vertical" class="w-5 h-5"></i></button>
                        </div>
                        <div class="flex-1 p-4 overflow-y-auto space-y-4">
                            <div class="flex gap-3">
                                <img src="https://ui-avatars.com/api/?name=AC&background=random"
                                    class="w-8 h-8 rounded-full">
                                <div
                                    class="bg-white dark:bg-zinc-800 p-3 rounded-2xl rounded-tl-none max-w-[80%] shadow-sm dark:shadow-none">
                                    <p class="text-sm text-zinc-600 dark:text-zinc-300">Hi, I'm interested in the
                                        iPhone. Is it still
                                        available?</p>
                                </div>
                            </div>
                            <div class="flex gap-3 flex-row-reverse">
                                <img src="https://ui-avatars.com/api/?name=You&background=cyan"
                                    class="w-8 h-8 rounded-full">
                                <div class="bg-cyan-600 p-3 rounded-2xl rounded-tr-none max-w-[80%]">
                                    <p class="text-sm text-white">Yes, it is! You can pick it up tomorrow.</p>
                                </div>
                            </div>
                        </div>
                        <div class="p-4 border-t border-zinc-200 dark:border-zinc-700/50">
                            <div class="flex gap-2">
                                <input type="text" placeholder="Type a message..."
                                    class="flex-1 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-white text-sm rounded-lg px-4 py-2 outline-none focus:ring-1 focus:ring-cyan-500 border border-zinc-200 dark:border-transparent">
                                <button
                                    class="bg-cyan-600 p-2 rounded-lg text-white hover:bg-cyan-700 transition-colors"><i
                                        data-lucide="send" class="w-5 h-5"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- View: Favorites -->
            <div id="view-favorites"
                class="dashboard-view p-4 lg:p-8 max-w-7xl mx-auto space-y-6 animate-fade-in-up scroll-mt-24">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-zinc-900 dark:text-white">Saved Favorites</h2>
                        <p class="text-zinc-500 dark:text-zinc-400">Items you're watching.</p>
                    </div>
                </div>
                <!-- Favorites Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Favorite Card 1 -->
                    <div
                        class="dashboard-card rounded-2xl overflow-hidden group border-cyan-200 dark:border-cyan-500/30">
                        <div class="relative aspect-video">
                            <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800&q=80"
                                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                            <button
                                class="absolute top-2 right-2 p-2 bg-white/30 backdrop-blur-md rounded-full text-fuchsia-500 hover:scale-110 transition-transform"><i
                                    data-lucide="heart" class="w-4 h-4 fill-current"></i></button>
                        </div>
                        <div class="p-4">
                            <h3 class="text-zinc-900 dark:text-white font-bold text-lg mb-1">Luxury Villa in Bali</h3>
                            <p class="text-cyan-600 dark:text-cyan-400 font-bold mb-3">$1,250,000</p>
                            <button
                                class="w-full py-2 rounded-lg bg-cyan-600 text-white text-sm font-bold hover:bg-cyan-700 transition-colors">Contact
                                Seller</button>
                        </div>
                    </div>
                    <!-- Favorite Card 2 -->
                    <div
                        class="dashboard-card rounded-2xl overflow-hidden group border-cyan-200 dark:border-cyan-500/30">
                        <div class="relative aspect-video">
                            <img src="https://images.unsplash.com/photo-1524592094714-0f0654e20314?w=800&q=80"
                                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                            <button
                                class="absolute top-2 right-2 p-2 bg-white/30 backdrop-blur-md rounded-full text-fuchsia-500 hover:scale-110 transition-transform"><i
                                    data-lucide="heart" class="w-4 h-4 fill-current"></i></button>
                        </div>
                        <div class="p-4">
                            <h3 class="text-zinc-900 dark:text-white font-bold text-lg mb-1">Vintage Rolex Watch</h3>
                            <p class="text-cyan-600 dark:text-cyan-400 font-bold mb-3">$12,500</p>
                            <button
                                class="w-full py-2 rounded-lg bg-cyan-600 text-white text-sm font-bold hover:bg-cyan-700 transition-colors">Contact
                                Seller</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- View: Wallet -->
            <div id="view-wallet"
                class="dashboard-view p-4 lg:p-8 max-w-7xl mx-auto space-y-6 animate-fade-in-up scroll-mt-24">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-zinc-900 dark:text-white">My Wallet</h2>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2 space-y-6">
                        <!-- Balance Card -->
                        <div
                            class="dashboard-card rounded-2xl p-8 bg-gradient-to-r from-cyan-600 to-purple-600 border-none relative overflow-hidden">
                            <div class="relative z-10">
                                <p class="text-cyan-100 font-medium mb-1">Total Balance</p>
                                <h2 class="text-4xl font-black text-white mb-6">$1,458.00</h2>
                                <div class="flex gap-4">
                                    <button
                                        class="bg-white/20 hover:bg-white/30 backdrop-blur-md px-4 py-2 rounded-lg text-white text-sm font-bold transition-colors">Withdraw</button>
                                    <button
                                        class="bg-white/20 hover:bg-white/30 backdrop-blur-md px-4 py-2 rounded-lg text-white text-sm font-bold transition-colors">Top
                                        Up</button>
                                </div>
                            </div>
                            <i data-lucide="wallet"
                                class="absolute -bottom-8 -right-8 w-48 h-48 text-white/10 rotate-12"></i>
                        </div>
                    </div>
                    <div class="dashboard-card rounded-2xl p-6">
                        <h3 class="text-zinc-900 dark:text-white font-bold mb-4">Payment Methods</h3>
                        <div class="space-y-3">
                            <div
                                class="flex items-center gap-3 p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800/50 border border-zinc-200 dark:border-zinc-700/50">
                                <div
                                    class="w-10 h-6 bg-zinc-200 dark:bg-zinc-200 rounded text-zinc-800 text-[8px] font-bold flex items-center justify-center">
                                    VISA</div>
                                <div class="flex-1">
                                    <p class="text-sm text-zinc-900 dark:text-white font-medium">**** 4242</p>
                                    <p class="text-xs text-zinc-500 dark:text-zinc-400">Expires 12/28</p>
                                </div>
                            </div>
                            <button
                                class="w-full py-2 border border-dashed border-zinc-300 dark:border-zinc-600 rounded-xl text-zinc-500 dark:text-zinc-400 text-sm hover:border-cyan-500 hover:text-cyan-600 dark:hover:text-cyan-400 transition-colors">+
                                Add New Card</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- View: Profile -->
            <div id="view-profile"
                class="dashboard-view p-4 lg:p-8 max-w-7xl mx-auto space-y-6 animate-fade-in-up scroll-mt-24">
                <div class="max-w-3xl">
                    <h2 class="text-2xl font-bold text-zinc-900 dark:text-white mb-6">My Profile</h2>
                    <div class="dashboard-card rounded-2xl p-6 space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="space-y-2">
                                <label class="text-sm font-medium text-zinc-700 dark:text-zinc-300">Display
                                    Name</label>
                                <input type="text" value="John Doe"
                                    class="w-full bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg px-4 py-2 text-zinc-900 dark:text-white outline-none focus:ring-1 focus:ring-cyan-500">
                            </div>
                            <div class="space-y-2">
                                <label class="text-sm font-medium text-zinc-700 dark:text-zinc-300">Email
                                    Address</label>
                                <input type="email" value="john@example.com"
                                    class="w-full bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg px-4 py-2 text-zinc-900 dark:text-white outline-none focus:ring-1 focus:ring-cyan-500">
                            </div>
                        </div>
                        <div class="pt-6 border-t border-zinc-200 dark:border-zinc-700/50 flex justify-end">
                            <button
                                class="bg-cyan-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-cyan-700 transition-colors">Update
                                Profile</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- View: Settings -->
            <div id="view-settings"
                class="dashboard-view p-4 lg:p-8 max-w-7xl mx-auto space-y-6 animate-fade-in-up scroll-mt-24">
                <div class="max-w-3xl">
                    <h2 class="text-2xl font-bold text-zinc-900 dark:text-white mb-6">Settings</h2>
                    <div class="dashboard-card rounded-2xl p-6 space-y-6">
                        <div>
                            <h3 class="text-zinc-900 dark:text-white font-bold mb-4">Notifications</h3>
                            <div class="space-y-3">
                                <label class="flex items-center gap-3 cursor-pointer">
                                    <input type="checkbox" checked
                                        class="w-4 h-4 rounded bg-zinc-800 border-zinc-600 text-cyan-600 focus:ring-cyan-500">
                                    <span class="text-sm text-zinc-600 dark:text-zinc-300">Email digest of new
                                        listings</span>
                                </label>
                                <label class="flex items-center gap-3 cursor-pointer">
                                    <input type="checkbox" checked
                                        class="w-4 h-4 rounded bg-zinc-800 border-zinc-600 text-cyan-600 focus:ring-cyan-500">
                                    <span class="text-sm text-zinc-600 dark:text-zinc-300">Browser
                                        notifications</span>
                                </label>
                            </div>
                        </div>
                        <div class="pt-6 border-t border-zinc-200 dark:border-zinc-700/50 flex justify-end">
                            <button
                                class="bg-cyan-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-cyan-700 transition-colors">Save
                                Preferences</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer
        class="footer-gradient text-zinc-300 pt-16 pb-8 border-t border-zinc-700/50 relative overflow-hidden lg:ms-64">
        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-10">
        </div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">

                <!-- Brand -->
                <div class="space-y-6 animate-fade-in-up brand-glow cursor-default">
                    <div class="flex items-center gap-3">
                        <div class="logo-bg bg-cyan-600 p-3 rounded-xl transition-all duration-300">
                            <span class="text-white font-black text-2xl">DS</span>
                        </div>
                        <span class="text-2xl font-black text-white tracking-tight">DealSquare</span>
                    </div>
                    <p class="text-white text-sm leading-relaxed max-w-xs">
                        The worldâ€™s most modern classified ads platform. Sell your items, find services, and connect
                        with your community.
                    </p>
                </div>

                <!-- Quick Links -->
                <div class="animate-fade-in-up delay-200">
                    <h4 class="text-white font-bold mb-6 text-lg relative inline-block">Quick Links <div
                            class="absolute -bottom-2 left-0 w-1/2 h-1 bg-cyan-500 rounded-full"></div>
                    </h4>
                    <ul class="space-y-3 text-sm font-medium">
                        <li><a href="index.html" class="footer-link block">Home Page</a></li>
                        <li><a href="about.html" class="footer-link block">About Us</a></li>
                        <li><a href="services.html" class="footer-link block">Our Services</a></li>
                        <li><a href="contact.html" class="footer-link block">Contact Support</a></li>
                    </ul>
                </div>

                <!-- Account -->
                <div class="animate-fade-in-up delay-400">
                    <h4 class="text-white font-bold mb-6 text-lg relative inline-block">Account <div
                            class="absolute -bottom-2 left-0 w-1/2 h-1 bg-cyan-500 rounded-full"></div>
                    </h4>
                    <ul class="space-y-3 text-sm font-medium">
                        <li><a href="user_dashboard.html" class="footer-link block group flex items-center gap-2"><i
                                    data-lucide="layout-dashboard"
                                    class="w-4 h-4 opacity-0 -ml-4 group-hover:opacity-100 group-hover:ml-0 transition-all"></i>
                                User Dashboard</a></li>
                        <li><a href="admin_dashboard.html" class="footer-link block group flex items-center gap-2"><i
                                    data-lucide="shield"
                                    class="w-4 h-4 opacity-0 -ml-4 group-hover:opacity-100 group-hover:ml-0 transition-all"></i>
                                Admin Dashboard</a></li>
                        <li><a href="login.html" class="footer-link block group flex items-center gap-2"><i
                                    data-lucide="log-in"
                                    class="w-4 h-4 opacity-0 -ml-4 group-hover:opacity-100 group-hover:ml-0 transition-all"></i>
                                Login / Sign Up</a></li>
                        <li><a href="#" class="footer-link block group flex items-center gap-2"><i
                                    data-lucide="file-text"
                                    class="w-4 h-4 opacity-0 -ml-4 group-hover:opacity-100 group-hover:ml-0 transition-all"></i>
                                Terms of Service</a></li>
                    </ul>
                </div>

                <!-- Newsletter -->
                <div class="animate-fade-in-up delay-600">
                    <h4 class="text-white font-bold mb-6 text-lg relative inline-block">Newsletter <div
                            class="absolute -bottom-2 left-0 w-1/2 h-1 bg-cyan-500 rounded-full"></div>
                    </h4>
                    <p class="text-white text-sm mb-4">Stay updated with the latest ads.</p>
                    <div class="relative group">
                        <input type="email" placeholder="Email address"
                            class="bg-zinc-800/50 border border-zinc-700 text-white text-sm rounded-xl w-full pl-4 pr-16 rtl:pl-16 rtl:pr-4 py-3 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all placeholder-zinc-500 group-hover:bg-zinc-800">
                        <button
                            class="absolute right-1 rtl:right-auto rtl:left-1 top-1 bottom-1 bg-cyan-600 text-white px-4 rounded-lg font-bold hover:bg-cyan-500 transition-all hover:scale-105 active:scale-95 shadow-lg">Go</button>
                    </div>
                </div>
            </div>

            <!-- Bottom Bar -->
            <div
                class="border-t border-zinc-800/50 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-xs font-semibold text-zinc-400 animate-fade-in-up delay-600">
                <p>Â© 2026 DealSquare Inc. All rights reserved.</p>
                <div class="flex gap-6">
                    <a href="#" class="social-icon transition-all duration-300"><i data-lucide="facebook"
                            class="w-5 h-5"></i></a>
                    <a href="#" class="social-icon transition-all duration-300"><i data-lucide="twitter"
                            class="w-5 h-5"></i></a>
                    <a href="#" class="social-icon transition-all duration-300"><i data-lucide="instagram"
                            class="w-5 h-5"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script src="main.js"></script>
    <script src="rtltoggle.js"></script>

    <script>
        // Initialize Lucide Icons
        lucide.createIcons();

        // Chart Colors - Neon Cyber Theme
        const colors = {
            cyan: '#06b6d4',
            fuchsia: '#d946ef',
            emerald: '#10b981',
            amber: '#f59e0b',
            purple: '#8b5cf6',
            zinc: '#71717a'
        };

        // Wallet Earnings Sparkline
        const earningsSparklineOptions = {
            series: [{ name: 'Earnings', data: [550, 720, 680, 920, 1100, 1050, 1400, 1550, 1300, 1680] }],
            chart: {
                type: 'area',
                height: 80,
                sparkline: { enabled: true },
                animations: { enabled: true, easing: 'easeinout', speed: 800 }
            },
            colors: [colors.emerald],
            stroke: { curve: 'smooth', width: 2 },
            fill: { type: 'gradient', gradient: { shadeIntensity: 1, opacityFrom: 0.4, opacityTo: 0.1 } },
            tooltip: { theme: 'dark', fixed: { enabled: false }, x: { show: false }, y: { title: { formatter: () => '$' } } }
        };
        const earningsSparkline = new ApexCharts(document.querySelector("#earningsSparkline"), earningsSparklineOptions);
        earningsSparkline.render();

        // Performance Insights Area Chart
        const performanceChartOptions = {
            series: [
                { name: 'Profile Views', data: [150, 220, 190, 310, 280, 450, 520] },
                { name: 'Ad Clicks', data: [45, 60, 55, 95, 80, 120, 160] }
            ],
            chart: {
                type: 'area',
                height: 260,
                toolbar: { show: false },
                background: 'transparent',
                fontFamily: 'Inter, sans-serif'
            },
            colors: [colors.cyan, colors.fuchsia],
            dataLabels: { enabled: false },
            stroke: { curve: 'smooth', width: 3 },
            fill: { type: 'gradient', gradient: { shadeIntensity: 1, opacityFrom: 0.45, opacityTo: 0.05, stops: [0, 95] } },
            xaxis: {
                categories: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                labels: { style: { colors: '#9ca3af', fontSize: '11px' } },
                axisBorder: { show: false }, axisTicks: { show: false }
            },
            yaxis: {
                labels: { style: { colors: '#9ca3af', fontSize: '11px' } },
            },
            grid: { borderColor: 'rgba(255,255,255,0.06)', strokeDashArray: 4 },
            legend: { labels: { colors: '#9ca3af' }, position: 'top', horizontalAlign: 'right' },
            tooltip: { theme: 'dark' }
        };
        const performanceChart = new ApexCharts(document.querySelector("#performanceChart"), performanceChartOptions);
        performanceChart.render();

        // Dashboard Interaction Events
        const attachEvent = (id, message) => {
            const btn = document.getElementById(id);
            if (btn) {
                btn.addEventListener('click', () => {
                    alert(message);
                });
            }
        };

        attachEvent('btn-new-listing', 'Opening new listing form... (Demo)');
        attachEvent('btn-renew-ads', 'Renewing expired ads... (Demo)');
        attachEvent('btn-boost-ad', 'Boost options panel loaded! (Demo)');
        attachEvent('btn-manage-settings', 'Opening settings... (Demo)');

        // Logout Logic
        const handleLogout = () => {
            if (confirm('Are you sure you want to log out?')) {
                // Clear authentication data
                localStorage.removeItem('userToken');
                localStorage.removeItem('userData');
                sessionStorage.clear();

                // Redirect to login page
                window.location.href = 'login.html';
            }
        };

        const btnLogoutMobile = document.getElementById('btn-logout-mobile');
        const btnLogoutHeaderNav = document.getElementById('btn-logout-header-nav'); // New header button

        // if (btnLogout) btnLogout.addEventListener('click', handleLogout); // Removed legacy ID
        if (btnLogoutMobile) btnLogoutMobile.addEventListener('click', handleLogout);
        if (btnLogoutHeaderNav) btnLogoutHeaderNav.addEventListener('click', handleLogout);

        // Sidebar Navigation Logic (SPA)
        // Scroll Spy & Single Page Navigation Logic
        const sidebarLinks = document.querySelectorAll('.sidebar-link');
        const sections = document.querySelectorAll('.dashboard-view');

        // Classes
        const activeClasses = ['bg-cyan-500/10', 'text-cyan-400', 'border', 'border-cyan-500/20'];
        const inactiveClasses = ['text-zinc-400', 'hover:bg-zinc-800/50', 'hover:text-white'];

        // Helper to update UI
        function updateSidebarUI(targetId) {
            sidebarLinks.forEach(link => {
                const href = link.getAttribute('href');
                // Check if href matches #targetId
                if (href === `#${targetId}`) {
                    link.classList.remove(...inactiveClasses);
                    link.classList.add(...activeClasses);
                    // Also scroll sidebar if needed (optional but nice)
                    // link.scrollIntoView({ block: 'nearest', inline: 'nearest' }); 
                } else {
                    link.classList.remove(...activeClasses);
                    link.classList.add(...inactiveClasses);
                }
            });
        }

        // 1. Intersection Observer for Scroll Spy
        const observerOptions = {
            root: null,
            // Trigger when 40% of the target is visible or close to center
            // Adjust rootMargin to make the active switch happen "nicely" as you scroll
            rootMargin: '-20% 0px -60% 0px',
            threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    updateSidebarUI(entry.target.id);
                }
            });
        }, observerOptions);

        sections.forEach(section => observer.observe(section));

        // 2. Click Handling for Smooth Scroll
        sidebarLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);

                if (targetSection) {
                    // Smooth Scroll
                    window.scrollTo({
                        top: targetSection.offsetTop - 100, // Offset for sticky header (approx 80px + padding)
                        behavior: 'smooth'
                    });

                    // Close Mobile Sidebar if open
                    if (window.innerWidth < 1024) {
                        const sidebar = document.getElementById('sidebar');
                        const overlay = document.getElementById('sidebarOverlay');

                        if (sidebar) {
                            sidebar.classList.remove('translate-x-0');
                            sidebar.classList.add('-translate-x-full', 'rtl:translate-x-full');
                        }
                        if (overlay) {
                            overlay.classList.add('hidden', 'opacity-0');
                            overlay.classList.remove('opacity-100');
                        }
                        document.body.classList.remove('overflow-hidden');
                    }
                }
            });
        });

        // 3. Default to Overview on Load if no hash
        if (!window.location.hash) {
            // updateSidebarUI('view-overview'); // Observer will likely catch this anyway
            // Scroll to top to be safe
            window.scrollTo({ top: 0, behavior: 'auto' });
        } else {
            // If there IS a hash, browser handles jump, but we might want to smooth it? 
            // Browser default behavior is fine for initial load.
        }

        // Initialize Lucide Icons
        lucide.createIcons();

        document.addEventListener('DOMContentLoaded', () => {
            // RTL Toggle Logic is handled by rtltoggle.js

            // ==========================================
            // Mobile Navigation & Sidebar Logic
            // ==========================================



            // 2. Dashboard Sidebar Logic (Content Area)
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            const closeSidebarBtn = document.getElementById('closeSidebarBtn');
            const contentMenuBtn = document.getElementById('contentMenuBtn'); // The specific Dashboard Menu button

            function toggleSidebar(forceClose = false) {
                const isOpen = sidebar.classList.contains('translate-x-0');

                if (isOpen || forceClose) {
                    // CLOSE
                    sidebar.classList.remove('translate-x-0');
                    sidebar.classList.add('-translate-x-full', 'rtl:translate-x-full');

                    if (overlay) {
                        overlay.classList.remove('opacity-100');
                        overlay.classList.add('opacity-0');
                        setTimeout(() => overlay.classList.add('hidden'), 300);
                    }
                    document.body.classList.remove('overflow-hidden');
                } else {
                    // OPEN
                    sidebar.classList.remove('-translate-x-full', 'rtl:translate-x-full');
                    sidebar.classList.add('translate-x-0');

                    if (overlay) {
                        overlay.classList.remove('hidden');
                        void overlay.offsetWidth;
                        overlay.classList.remove('opacity-0');
                    }
                    document.body.classList.add('overflow-hidden');
                }
            }

            if (contentMenuBtn) {
                contentMenuBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('toggleSidebar clicked');
                    toggleSidebar();
                });
            }
            if (overlay) overlay.addEventListener('click', () => toggleSidebar(true));
            if (closeSidebarBtn) closeSidebarBtn.addEventListener('click', () => toggleSidebar(true));

            // Resize Handler
            window.addEventListener('resize', () => {
                if (window.innerWidth >= 1024) {
                    sidebar.classList.remove('translate-x-0');
                    sidebar.classList.add('-translate-x-full', 'rtl:translate-x-full');
                    if (overlay) overlay.classList.add('hidden', 'opacity-0');
                    document.body.classList.remove('overflow-hidden');
                }
            });
        });

        // Initialize ApexCharts for User Dashboard
        document.addEventListener('DOMContentLoaded', function () {

            // Helper function to get current theme mode
            const getThemeMode = () => document.documentElement.classList.contains('dark') ? 'dark' : 'light';
            const getTextShowColor = () => getThemeMode() === 'dark' ? '#9ca3af' : '#475569';
            const getGridColor = () => getThemeMode() === 'dark' ? 'rgba(255,255,255,0.06)' : '#e2e8f0';

            // 1. Pie Chart: Ad Category Distribution
            var pieOptions = {
                series: [35, 25, 20, 15, 5],
                chart: {
                    type: 'donut',
                    height: 250,
                    background: 'transparent',
                    animations: { enabled: true, dynamicAnimation: { enabled: true, speed: 800 } }
                },
                labels: ['Electronics', 'Fashion', 'Home', 'Vehicles', 'Other'],
                colors: [colors.cyan, colors.purple, colors.fuchsia, colors.amber, colors.zinc],
                dataLabels: { enabled: false },
                plotOptions: {
                    donut: {
                        size: '70%',
                        labels: {
                            show: true,
                            total: { show: true, showAlways: true, label: 'Active Ads', fontSize: '14px', fontFamily: 'Inter', color: getTextShowColor() }
                        }
                    }
                },
                legend: { position: 'bottom', labels: { colors: getTextShowColor() }, fontSize: '12px' },
                stroke: { show: false },
                fill: {
                    type: 'gradient',
                    gradient: {
                        shade: 'dark',
                        type: 'vertical',
                        shadeIntensity: 0.5,
                        gradientToColors: undefined,
                        inverseColors: true,
                        opacityFrom: 1,
                        opacityTo: 0.8,
                        stops: [0, 100]
                    }
                }
            };
            var pieChart = new ApexCharts(document.querySelector("#adCategoryChart"), pieOptions);
            pieChart.render();

            // 2. Radar Chart: User Activity Profile
            var radarOptions = {
                series: [{
                    name: 'Activity',
                    data: [80, 50, 30, 40, 100, 20],
                }],
                chart: {
                    height: 250,
                    type: 'radar',
                    background: 'transparent',
                    toolbar: { show: false }
                },
                xaxis: {
                    categories: ['Posting', 'Buying', 'Messaging', 'Reviewing', 'Browsing', 'Reporting'],
                    labels: { style: { colors: [getTextShowColor(), getTextShowColor(), getTextShowColor(), getTextShowColor(), getTextShowColor(), getTextShowColor()] } }
                },
                theme: { mode: getThemeMode() },
                stroke: { width: 2, colors: ['#10b981'] },
                fill: {
                    type: 'gradient',
                    gradient: {
                        shade: 'dark',
                        gradientToColors: ['#00ff9f'],
                        shadeIntensity: 1,
                        type: 'horizontal',
                        opacityFrom: 0.2,
                        opacityTo: 0.5,
                        stops: [0, 100]
                    }
                },
                markers: { size: 4, colors: ['#10b981'] },
                yaxis: { show: false }
            };
            var radarChart = new ApexCharts(document.querySelector("#userActivityRadar"), radarOptions);
            radarChart.render();

            // 3. Bar Chart: Weekly Engagement
            var barOptions = {
                series: [{
                    name: 'Views',
                    data: [44, 55, 57, 56, 61, 58, 63]
                }],
                chart: {
                    type: 'bar',
                    height: 250,
                    background: 'transparent',
                    toolbar: { show: false }
                },
                plotOptions: {
                    bar: {
                        horizontal: false,
                        columnWidth: '55%',
                        endingShape: 'rounded',
                        borderRadius: 4
                    },
                },
                dataLabels: { enabled: false },
                stroke: { show: true, width: 2, colors: ['transparent'] },
                xaxis: {
                    categories: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    labels: { style: { colors: getTextShowColor() } }
                },
                yaxis: {
                    title: { text: 'Views', style: { color: getTextShowColor() } },
                    labels: { style: { colors: getTextShowColor() } }
                },
                grid: { borderColor: getGridColor() },
                fill: {
                    type: 'gradient',
                    gradient: {
                        shade: 'dark',
                        type: "vertical",
                        shadeIntensity: 0.5,
                        gradientToColors: ['#a855f7'], // Indio to Purple
                        inverseColors: true,
                        opacityFrom: 1,
                        opacityTo: 0.8,
                        stops: [0, 100]
                    }
                },
                theme: { mode: getThemeMode() },
                colors: ['#6366f1']
            };
            var barChart = new ApexCharts(document.querySelector("#weeklyEngagementBar"), barOptions);
            barChart.render();

            // Watch for theme changes
            const observer = new MutationObserver((mutations) => {
                mutations.forEach((mutation) => {
                    if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                        const mode = getThemeMode();
                        const textColor = getTextShowColor();
                        const gridColor = getGridColor();

                        // Update Earnings Sparkline
                        if (typeof earningsSparkline !== 'undefined') {
                            earningsSparkline.updateOptions({
                                tooltip: { theme: mode }
                            });
                        }

                        // Update Performance Chart (defined in previous script block, needs to be accessible)
                        if (typeof performanceChart !== 'undefined') {
                            performanceChart.updateOptions({
                                theme: { mode: mode },
                                xaxis: { labels: { style: { colors: textColor } } },
                                yaxis: { labels: { style: { colors: textColor } } },
                                grid: { borderColor: gridColor },
                                legend: { labels: { colors: textColor } },
                                tooltip: { theme: mode }
                            });
                        }

                        // Update Sparkline (need reference, but it was anonymous in previous block. We should fix that if we want it to update perfectly, typically small sparklines don't have axes so less critical, but background matches so it's ok)

                        // Update Pie Chart
                        pieChart.updateOptions({
                            theme: { mode: mode },
                            legend: { labels: { colors: textColor } }
                        });

                        // Update Radar Chart
                        radarChart.updateOptions({
                            theme: { mode: mode },
                            xaxis: { labels: { style: { colors: [textColor, textColor, textColor, textColor, textColor, textColor] } } }
                        });

                        // Update Bar Chart
                        barChart.updateOptions({
                            theme: { mode: mode },
                            xaxis: { labels: { style: { colors: textColor } } },
                            yaxis: {
                                title: { style: { color: textColor } },
                                labels: { style: { colors: textColor } }
                            },
                            grid: { borderColor: gridColor }
                        });
                    }
                });
            });

            observer.observe(document.documentElement, {
                attributes: true,
                attributeFilter: ['class']
            });

            // Listen for Direction Changes (RTL/LTR)
            window.addEventListener('dir-change', (e) => {
                const dir = e.detail.dir;
                const isRtl = dir === 'rtl';
                const mode = getThemeMode();
                const textColor = getTextShowColor();
                const gridColor = getGridColor();

                // Common Y-Axis Update
                const yaxisOpposite = isRtl;

                // Update Pie Chart
                pieChart.updateOptions({
                    yaxis: { opposite: yaxisOpposite },
                    legend: { position: isRtl ? 'left' : 'bottom' } // Adjust legend if needed, usually bottom is fine
                });

                // Update Radar Chart (Radar doesn't typically flip y-axis in same way, but let's re-render to be safe)
                radarChart.updateOptions({
                    yaxis: { show: false } // Radar usually doesn't show y-axis in this config
                });

                // Update Bar Chart
                barChart.updateOptions({
                    yaxis: {
                        opposite: yaxisOpposite,
                        labels: { style: { colors: textColor } },
                        title: { style: { color: textColor } }
                    }
                });

                // Update Performance Chart if exists
                if (typeof performanceChart !== 'undefined') {
                    performanceChart.updateOptions({
                        yaxis: {
                            opposite: yaxisOpposite,
                            labels: { style: { colors: textColor } }
                        }
                    });
                }

                // Update Earnings Sparkline if exists
                if (typeof earningsSparkline !== 'undefined') {
                    earningsSparkline.updateOptions({
                        yaxis: { opposite: yaxisOpposite }
                    });
                }

            });

            // Initial check for RTL on load to set charts correctly if page loads in RTL
            if (document.documentElement.dir === 'rtl') {
                const textColor = getTextShowColor();
                // Delay slightly to ensure charts are initialized
                setTimeout(() => {
                    const updateObj = { yaxis: { opposite: true } };
                    pieChart.updateOptions(updateObj);
                    barChart.updateOptions({ yaxis: { opposite: true, labels: { style: { colors: textColor } } } });
                    if (typeof performanceChart !== 'undefined') performanceChart.updateOptions(updateObj);
                    if (typeof earningsSparkline !== 'undefined') earningsSparkline.updateOptions(updateObj);
                }, 100);
            }
            // Initialize 10 New User Charts
            const usrCommonOptions = {
                chart: { background: 'transparent', toolbar: { show: false } },
                theme: { mode: document.documentElement.classList.contains('dark') ? 'dark' : 'light' },
                stroke: { curve: 'smooth', width: 2 },
                dataLabels: { enabled: false },
                fill: {
                    type: 'gradient',
                    gradient: {
                        shade: 'dark',
                        type: "vertical",
                        shadeIntensity: 0.5,
                        inverseColors: true,
                        opacityFrom: 0.85,
                        opacityTo: 0.55,
                        stops: [0, 80, 100]
                    }
                }
            };

            // 1. Profile Views Sparkline
            new ApexCharts(document.querySelector("#usrProfileViewsSpark"), {
                ...usrCommonOptions,
                series: [{ name: 'Views', data: [10, 15, 25, 20, 35, 40, 60] }],
                chart: { type: 'area', height: 250, sparkline: { enabled: false } }, // Sparkline-style but with axes for detail
                colors: ['#6366f1']
            }).render();

            // 2. Impressions Bar
            new ApexCharts(document.querySelector("#usrImpressionsBar"), {
                ...usrCommonOptions,
                series: [{ name: 'Impressions', data: [100, 200, 150, 300, 250, 400, 350] }],
                chart: { type: 'bar', height: 250 },
                colors: ['#06b6d4']
            }).render();

            // 3. Sales Column
            new ApexCharts(document.querySelector("#usrSalesColumn"), {
                ...usrCommonOptions,
                series: [{ name: 'Sales', data: [5, 8, 12, 15, 10, 18, 22] }],
                chart: { type: 'bar', height: 250 },
                plotOptions: { bar: { columnWidth: '50%' } },
                colors: ['#10b981']
            }).render();

            // 4. Spending Pie
            new ApexCharts(document.querySelector("#usrSpendingPie"), {
                ...usrCommonOptions,
                series: [300, 150, 100],
                labels: ['Electronics', 'Services', 'Home'],
                chart: { type: 'pie', height: 250 },
                colors: ['#ef4444', '#f59e0b', '#3b82f6']
            }).render();

            // 5. Response Radial
            new ApexCharts(document.querySelector("#usrResponseRadial"), {
                ...usrCommonOptions,
                series: [88],
                chart: { type: 'radialBar', height: 250 },
                plotOptions: { radialBar: { dataLabels: { value: { show: true, color: '#6366f1' } } } },
                colors: ['#8b5cf6']
            }).render();

            // 6. Interests Radar
            new ApexCharts(document.querySelector("#usrInterestsRadar"), {
                ...usrCommonOptions,
                series: [{ name: 'Interest', data: [80, 50, 30, 40, 100, 20] }],
                labels: ['Tech', 'Fashion', 'Auto', 'Home', 'Jobs', 'Services'],
                chart: { type: 'radar', height: 250 },
                colors: ['#ec4899']
            }).render();

            // 7. Message Activity Line
            new ApexCharts(document.querySelector("#usrMsgActivityLine"), {
                ...usrCommonOptions,
                series: [{ name: 'Messages', data: [2, 5, 8, 15, 12, 20, 25] }],
                chart: { type: 'line', height: 250 },
                colors: ['#f43f5e']
            }).render();

            // 8. Success Gauge
            new ApexCharts(document.querySelector("#usrSuccessGauge"), {
                ...usrCommonOptions,
                series: [92],
                chart: { type: 'radialBar', height: 250 },
                plotOptions: {
                    radialBar: {
                        startAngle: -135, endAngle: 135,
                        track: { background: "#e7e7e7", strokeWidth: '97%', margin: 5 },
                        dataLabels: { name: { show: false }, value: { offsetY: 0, fontSize: '22px' } }
                    }
                },
                colors: ['#10b981']
            }).render();

            // 9. Saved Items Donut
            new ApexCharts(document.querySelector("#usrSavedDonut"), {
                ...usrCommonOptions,
                series: [12, 8, 4],
                labels: ['Watchlist', 'Favorites', 'Cart'],
                chart: { type: 'donut', height: 250 },
                colors: ['#f97316', '#eab308', '#84cc16']
            }).render();

            // 10. Engagement Heatmap
            const generateUserHeatmap = (count, yrange) => {
                let i = 0;
                let series = [];
                while (i < count) {
                    let x = (i + 1).toString();
                    let y = Math.floor(Math.random() * (yrange.max - yrange.min + 1)) + yrange.min;
                    series.push({ x: x, y: y });
                    i++;
                }
                return series;
            };
            new ApexCharts(document.querySelector("#usrEngageHeatmap"), {
                ...usrCommonOptions,
                series: [
                    { name: 'Morning', data: generateUserHeatmap(7, { min: 0, max: 90 }) },
                    { name: 'Afternoon', data: generateUserHeatmap(7, { min: 0, max: 90 }) },
                    { name: 'Evening', data: generateUserHeatmap(7, { min: 0, max: 90 }) }
                ],
                chart: { type: 'heatmap', height: 250 },
                colors: ['#6366f1']
            }).render();

        });
    </script>
    <script src="main.js"></script>
    <script src="rtltoggle.js"></script>
</body>

</html>